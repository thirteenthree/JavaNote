### Java 是解释执行吗?

"对于Java是解释执行"这句话，这个说法**不准确**。我们开发的Java的源代码,首先通过Javac编译成为字节码,然后在运行时通过Java虚拟机内嵌的解释器将字节码转换为最终的机器码。但是常见的JVM,比如我们大数据情况使用的0racleJDK提供的HostpotJVM,提供了JIT编译器,就是通常所说的动态编译器,JIT能够在运行时将热点代码(高频调用的方法和代码块)编译成机器码,这种情况下部分热点就属于编译执行,而不是解释执行。这样类似于缓存技术,运行时在遇到热点代码可以直接执行,而不是先解释在执行。

知识扩展:

在运行时 , JVM通过类加载器加载字节码,解释或者编译执行。就像我们前面提到的,主流的Java版本中,如JDK8实际是解释和编译混合的一种模式,即所谓的混合模式。JIT编译器分为多种模式(Server模式C1ient模式AOT模式)通常运行在Server模式的JVM,会进行上万次调用以收集足够的信息进行高效编译,client模式这个门限是1500次。

Oracle Hostpot JVM内置了两个不同的JIT compiler,C1对应 前面说的client模式，适用于对于启动速度敏感的应用,比如普通Java桌面应用;C2对应Server模式，它的优点是为长时间运行的服务器端应用设计的。

Java虚拟机启动时， 可以指定不同的参数对运行模式进行选择。比如，执行"-Xint",就是告诉JVM只进行解释执行,不对代码进行编译,这种模式抛弃了JIT可能带来的性能优势。毕竟解释器是逐条读入,逐条解释运行的。与其相对性的，还有一个"Xcomp"参数,这是告诉JVM关闭解释器,不要进行解释执行,或者叫做最大优化级别。那你可能会问这种模式是不是最高效啊?简单来说，还真未必。"-Xcomp" 会导致JVM启动变慢非常多..

除了日常最常见的Java使用模式，其实还有一种新的编译方式，即所谓的AOT,直接将字节码编译成机器码,这样就避免了JIT预热等各方面的开销,比如Oracle JDK 9就引入了实性质的AOT特性,并且增加了jaotc工具。

另外,JVM作为一个强大的平台，不仅仅只有Java语言可以运行在JVM上,本质上合规的字节码都可以运行,Java语言自身也为此提供了便利,我们可以看到类似ClojureScala Groovy JRuby Jython等 大量JVM语言,活跃在不同的场景。